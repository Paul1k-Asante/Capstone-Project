
from bs4 import BeautifulSoup
import requests


#                NOTE BEFORE ALL
# The smptlib is only use to send mail to yourselve
# To send the email to yourselve yormust enable IMAP and POP in ur Gmail
# And if you have two-step authentication enable, you have to use App Password 
# (select mail and generate password)

# It very important to use the .prettify() in code code
# The headers is very important [User-Agent, Accept-Encoding, Accept, DNT, Upgrade insecure Requests]


# Connect to Website and pull in data
try:
    URL = 'https://www.amazon.com/dp/B01BS3FO5I/ref=sspa_dk_detail_2?psc=1&pd_rd_i=B01BS3FO5I&pd_rd_w=Puk60&content-id=amzn1.sym.f9710d1d-8ae7-460f-b546-5e6e42fbe82a&pf_rd_p=f9710d1d-8ae7-460f-b546-5e6e42fbe82a&pf_rd_r=C7Y3B7S9QP1YGNQ9XB74&pd_rd_wg=bxGlF&pd_rd_r=d63e6e06-821b-40f3-8ef9-1f18cbdd03f3&s=apparel&spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUExSlExWk01Nk84TVVSJmVuY3J5cHRlZElkPUEwNTU0MzEwMUxROFVCODRHME5SRCZlbmNyeXB0ZWRBZElkPUEwODc4Mzg1MkZBUlpWME82SlRVVyZ3aWRnZXROYW1lPXNwX2RldGFpbDImYWN0aW9uPWNsaWNrUmVkaXJlY3QmZG9Ob3RMb2dDbGljaz10cnVl'

    headers = {"User-Agent" : "Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.7113.93 Safari/537.36", "Accept-Encoding":"gzip, deflate", "Accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8", "DNT":"1","Connection":"close", "Upgrade-Insecure-Requests":"1"}
    
    page = requests.get(URL, headers=headers)

    soup1 = BeautifulSoup(page.content, "html.parser")

    soup2 = BeautifulSoup(soup1.prettify(), "html.parser")

    title = soup2.find(id='productTitle').get_text()

    price = soup2.find("span", class_="a-offscreen")


    print(title)
    print(price.text)

except Exception as e:
    print(e)


























































































































































































































































































